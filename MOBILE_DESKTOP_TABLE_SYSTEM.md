# Система мобильных и десктопных таблиц

## Обзор

Система автоматически выбирает версию таблицы (мобильную или десктопную) на основе настроек пользователя в Deadfire Studio.

## Конфигурации таблиц

### Google Sheets Matching Table

**Мобильная версия (40 символов):**
- №: 2 символа
- Название товара: 13 символов
- Ингредиент: 12 символов
- Статус: 4 символа
- Разделители: 9 символов
- **Общая ширина: 40 символов**

**Десктопная версия (82 символа):**
- №: 2 символа
- Название товара: 35 символов
- Ингредиент: 30 символов
- Статус: 6 символов
- Разделители: 9 символов
- **Общая ширина: 82 символа**

## Логика выбора версии

1. **В Cloud Run**: Использует настройки пользователя из Firestore
2. **В локальной разработке**: Использует переменную окружения `DISPLAY_MODE`

### Переменные окружения

```bash
# Для десктопной версии
export DISPLAY_MODE=desktop

# Для мобильной версии
export DISPLAY_MODE=mobile
```

## Файлы системы

- `config/table_config.py` - Конфигурации таблиц
- `utils/table_manager.py` - Логика выбора версии
- `services/user_service.py` - Управление настройками пользователя

## Использование

Система работает автоматически. При нажатии кнопки "Загрузить Google таблицы" таблица отображается в соответствии с настройками пользователя.
